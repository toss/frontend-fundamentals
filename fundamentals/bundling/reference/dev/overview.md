# 웹팩으로 효율적인 개발환경 구성하기

현대 프론트엔드 개발 환경에서는 소스 코드를 수정했을 때 브라우저에 즉시 반영되거나, 에러가 발생했을 때 원본 소스 코드를 쉽게 확인할 수 있어요. 또, 빌드 환경에 따라 환경 변수를 사용해 빌드 결과물을 다르게 만들 수도 있어요.

웹팩은 단순한 코드 번들러를 넘어, 이렇게 개발 편의성을 높이는 다양한 기능을 제공해요. 예를 들어 HMR(Hot Module Replacement)로 코드 변경 사항을 브라우저에 즉시 반영하거나, 소스 맵(Source Map)을 사용해 빌드된 코드에서도 원본 소스를 쉽게 추적할 수 있어요.

## 실시간으로 코드를 반영하는 개발 서버

브라우저에서는 기본적으로 HTTP 요청을 통해서만 에셋(이미지, JavaScript 파일 등)을 가져올 수 있어요. 그래서 로컬에서 작업 중인 JavaScript 코드도 반드시 `localhost`로 요청을 보내야 사용할 수 있죠. 이를 위해 작업 중인 파일을 제공할 웹 서버가 필요해요.

웹팩은 기본적으로 에셋을 제공(서빙)하는 개발 서버를 제공해요. 리액트 프로젝트를 `Create React App(CRA)`나 `Vite`로 생성하면, `start` 스크립트를 실행해 바로 개발 환경을 구성할 수 있는 것도 이 개발 서버 덕분이에요. 이 역할을 담당하는 것이 웹팩의 개발 서버(`webpack-dev-server`)예요.

`webpack-dev-server`는 다음과 같은 기능을 제공해요.

- **에셋 서빙**: 웹팩으로 번들링된 파일을 브라우저에 제공해요.
- **HMR(Hot Module Replacement)**: 소스 코드가 수정되면 브라우저를 새로고침하지 않아도 변경 사항을 실시간으로 반영해요.
- **프록시 설정**: 특정 API 요청을 다른 서버로 전달하거나 응답을 조작할 수 있어요.

## 디버깅을 쉽게 만드는 소스맵

소스맵은 다음과 같은 기능을 제공해요.

- **디버깅 편의성**: 브라우저 개발자 도구에서 원본 코드를 기준으로 중단점(Breakpoint)을 설정할 수 있어요.
- **에러 위치 확인**: 에러가 발생했을 때 난독화된 번들 코드가 아니라, 원본 코드의 에러 위치를 바로 확인할 수 있어요.

소스맵이 있으면 브라우저에서 디버깅할 때도 원본 소스를 기준으로 중단점을 설정할 수 있어요. 소스맵이 없다면 난독화된 코드를 보면서 디버깅해야 하므로 개발이 매우 어려워져요.

## 환경별로 동작을 설정하는 환경 변수

환경 변수는 애플리케이션이 실행될 환경(개발, 스테이징, 운영)에 따라 동작을 달리하기 위해 사용돼요.

환경 변수는 다음과 같은 기능을 제공해요.

- **환경 맞춤 설정**: 개발 환경에서는 로컬 서버를, 운영 환경에서는 배포된 서버를 사용하도록 쉽게 전환할 수 있어요.
- **성능 최적화**: 런타임 중 환경 변수 로딩 없이 미리 치환된 값을 사용하므로 코드 크기를 줄이고 실행 성능을 높일 수 있어요.
