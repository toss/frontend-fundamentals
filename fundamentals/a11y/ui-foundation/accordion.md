# 아코디언(Accordion)

아코디언은 정보를 공간을 절약해서 단계적으로 제공할 때 사용하는 컴포넌트예요.

스크린리더와 키보드 사용자가 **아코디언 목록의 구조와 현재 활성 상태를 바로 이해하고 조작**하도록 구현하는 게 핵심이에요.

아래 내용은 특히 `aria-expanded` 같은 상태 속성과 레이블 처리, 포커스 관리 등 실무에서 실수하기 쉬운 부분을 구체적으로 다뤄요.

## 이런 아코디언을 보여주려면 어떻게 구현해야 할까요?

![아코디언 예시](../images/accordion.png)

```tsx
<div>
  <button onClick={handleClickAccordion}>
    토스뱅크의 한도제한계좌는 어떻게 해제할 수 있나요?
  </button>
  <div hidden={!isOpen}>
    금융거래목적을 확인할 수 있는 증빙서류를 제출하여 한도 계좌 해제 신청을 할
    수 있어요. 단, 증빙서류 직접 제출 시에는 영업일 기준 2~3일 소요될 수 있어요.
  </div>
  <button onClick={handleClickAccordion}>
    토스증권 수수료와 세금이 궁금해요!
  </button>
  <div hidden={!isOpen}>
    토스증권에서 국내 주식 거래 시 수수료는 0.015%, 제세금은 0.20%가 부과됩니다.
  </div>
  {/* 이하 생략 */}
</div>
```

겉보기에는 아코디언을 위한 기본적인 골격이 만들어진 것처럼 보이지만, 실제 스크린리더는 사용자에게 정확한 정보를 전달하지 못하게 돼요.

::: danger ❌ 접근성을 챙기지 않으면 이렇게 들려요

토스뱅크의 한도제한계좌는 어떻게 해제할 수 있나요?, 버튼<br />
금융거래목적을 확인할 수 있는 증빙서류를 제출하여 한도 계좌 해제 신청을 할 수 있어요.<br /> 단, 증빙서류 직접 제출 시에는 영업일 기준 2~3일 소요될 수 있어요.<br />
토스증권 수수료와 세금이 궁금해요!, 버튼<br />
토스증권에서 국내 주식 거래 시 수수료는 0.015%, 제세금은 0.20%가 부과됩니다.<br />

:::

아코디언의 경우 각각의 개별적인 요소들로 이루어진 것이 아닌, 펼쳐짐/접힘 상태를 가진 하나의 그룹이에요.
때문에 어떤 요소가 현재 펼쳐져 있는지, 어떤 내용을 담고 있는지 사용자가 이해할 수 있어야 해요.

```tsx{3-4,9,15-16,21}
<div>
  <button
    aria-expanded={isOpen}
    aria-controls="panel-1"
    onClick={handleClickAccordion}
  >
    토스뱅크의 한도제한계좌는 어떻게 해제할 수 있나요?
  </button>
  <div id="panel-1" aria-labelledby="button-1" hidden={!isOpen}>
    금융거래목적을 확인할 수 있는 증빙서류를 제출하여 한도 계좌 해제 신청을 할
    수 있어요. 단, 증빙서류 직접 제출 시에는 영업일 기준 2~3일 소요될 수 있어요.
  </div>

  <button
    aria-expanded={isOpen}
    aria-controls="panel-2"
    onClick={handleClickAccordion}
  >
    토스증권 수수료와 세금이 궁금해요!
  </button>
  <div id="panel-2" aria-labelledby="button-2" hidden={!isOpen}>
    토스증권에서 국내 주식 거래 시 수수료는 0.015%, 제세금은 0.20%가 부과됩니다.
  </div>
  {/* 이하 생략 */}
</div>
```

::: tip ✅ 접근성을 챙기면 이렇게 들려요

토스뱅크의 한도제한계좌는 어떻게 해제할 수 있나요?, **버튼**, **펼쳐짐**<br />
금융거래목적을 확인할 수 있는 증빙서류를 제출하여 한도 계좌 해제 신청을 할 수 있어요. 단, 증빙서류 직접 제출 시에는 영업일 기준 2~3일 소요될 수 있어요.<br />
토스증권 수수료와 세금이 궁금해요!, **버튼, 접힘**<br />

:::

### 이런 것들을 챙겨야 해요

- **역할:** 패널에는 `role="region"`(선택)과 `aria-labelledby`로 버튼 id를 참조하면 문맥이 좋아요. 버튼의 `aria-controls`는 연관된 패널의 `id`로 연결해요.
- **상태:** 헤더는 **버튼**으로 구현한 뒤 `aria-expanded`로 열림/닫힘 상태를 전달해요.
  패널의 표시 여부는 `hidden` 속성으로 제어해요.

  ::: warning ⚠️ `aria-expanded`와 `hidden` 상태의 동기화
  두 값은 항상 동기화해야 해요. 즉, `aria-expanded="true"`면 패널이 표시되고, `aria-expanded="false"`면 패널이 `hidden`이어야 해요.
  :::

- **레이블:** 화면에 보이는 헤더 텍스트가 있다면 추가 `aria-label`은 보통 필요 없어요. 단, **아이콘만 있는 헤더**면 `aria-label`을 꼭 넣어주세요.
